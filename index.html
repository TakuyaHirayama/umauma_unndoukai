<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>ã†ã¾ã†ã¾é‹å‹•ä¼š</title>
  <style>
    body {
      font-family: sans-serif;
      background: #f5f5f5;
      padding: 20px;
    }
    h1 {
      text-align: center;
    }
    .horse {
      background: white;
      padding: 10px;
      margin: 10px 0;
      border-radius: 8px;
    }
    button {
      font-size: 16px;
      padding: 10px 20px;
      margin-top: 20px;
    }
    #result {
      margin-top: 20px;
      font-weight: bold;
    }
  </style>
</head>
<body>

<h1>ğŸ‡ ã†ã¾ã†ã¾é‹å‹•ä¼š ğŸ‡</h1>

<div id="horses"></div>

<button onclick="startRace()">ãƒ¬ãƒ¼ã‚¹é–‹å§‹ï¼</button>

<div id="result"></div>

<script>
const words = [
  "ã•ãã‚‰", "ã‹ãœ", "ã»ã—", "ã‚„ã¾", "ã‹ã‚",
  "ã²ã‹ã‚Š", "ã‚†ã", "ãã‚‰", "ã¤ã", "ãŸã‘"
];

let horses = [];

// ãƒ©ãƒ³ãƒ€ãƒ æ•´æ•°
function rand(min, max) {
  return Math.floor(Math.random() * (max - min + 1)) + min;
}

// é¦¬ã‚’ç”Ÿæˆ
function generateHorses() {
  horses = [];
  for (let i = 0; i < 4; i++) {
    const name =
      words[rand(0, words.length - 1)] +
      words[rand(0, words.length - 1)];

    const power = rand(50, 100);   // èƒ½åŠ›å€¤
    const distance = rand(800, 2000); // è·é›¢

    horses.push({ name, power, distance });
  }
}

// è¡¨ç¤º
function displayHorses() {
  const div = document.getElementById("horses");
  div.innerHTML = "";
  horses.forEach((h, i) => {
    div.innerHTML += `
      <div class="horse">
        <input type="radio" name="predict" value="${i}">
        <strong>${h.name}</strong><br>
        èƒ½åŠ›å€¤ï¼š${h.power}<br>
        è·é›¢ï¼š${h.distance}m
      </div>
    `;
  });
}

// ãƒ¬ãƒ¼ã‚¹
function startRace() {
  const checked = document.querySelector('input[name="predict"]:checked');
  if (!checked) {
    alert("äºˆæƒ³ã‚’é¸ã³ãªã‚µã‚¤ğŸ˜¤");
    return;
  }

  horses.forEach(h => {
    // èƒ½åŠ› + ä¹±æ•° - è·é›¢è£œæ­£
    h.score = h.power + rand(0, 50) - h.distance / 50;
  });

  horses.sort((a, b) => b.score - a.score);

  const winner = horses[0];
  const predicted = horses[checked.value];

  const resultDiv = document.getElementById("result");
  resultDiv.innerHTML = `
    ğŸ¥‡ å„ªå‹ï¼š${winner.name}<br>
    ${
      winner.name === predicted.name
        ? "ğŸ‰ äºˆæƒ³çš„ä¸­ï¼ã™ã”ã„ã˜ã‚ƒãƒŠã‚¤âœ¨"
        : "ğŸ’¥ ãƒã‚ºãƒ¬â€¦æ¬¡ã¯å½“ã¦ãªã‚µã‚¤ğŸ˜"
    }
  `;
}

// åˆæœŸåŒ–
generateHorses();
displayHorses();
</script>

</body>
</html>

